// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.0-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-ctors@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/blas-ext-base-gfill-by@v0.1.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-filled-by@v0.2.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/iter-length@v0.2.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-defaults@v0.2.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";var v=d(),h=u.get("dtypes.default");function g(r,e,t){var i,a;for(i=[],a=-1;!r.next().done;)a+=1,i.push(e.call(t,a));return i}function f(r,e,t){var i;for(i=0;i<r.length;i++)r.set(e.call(t,i),i);return r}function j(){var d,u,j,b,c,w,x,E;if(0===(u=arguments.length))return new(c=s(h))(0);if(r(j=arguments[0])){if(u>1)throw new TypeError("invalid arguments. Must provide a length, typed array, array-like object, or an iterable.");if(null===(c=s(j)))throw new TypeError(y("invalid argument. Must provide a recognized data type. Value: `%s`.",j));return new c(0)}if(u<2)throw new TypeError("invalid arguments. Must provide a length, typed array, array-like object, or an iterable.");if(n(arguments[u-=1]))if(n(arguments[u-1])){if(d=arguments[u],b=arguments[u-=1],0===u)throw new TypeError("invalid arguments. Must provide a length, typed array, array-like object, or an iterable.")}else b=arguments[u];else{if(!(u>=2))throw new TypeError("invalid arguments. Must provide a length, typed array, array-like object, or an iterable.");if(d=arguments[u],!n(b=arguments[u-=1]))throw new TypeError(y("invalid argument. Callback argument must be a function. Value: `%s`.",b))}if((u-=1)>=0&&r(arguments[u])?(j=arguments[u],u-=1):j=h,null===(c=s(j)))throw new TypeError(y("invalid argument. Must provide a recognized data type. Value: `%s`.",j));if("generic"===j){if(E=arguments[0],0===u){if(e(E)?x=E:t(E)&&(x=E.length),void 0!==x)return l(x,b,d);if(i(E))throw new Error("invalid arguments. Creating a generic array from an ArrayBuffer is not supported.");if(a(E)){if(!1===v)throw new TypeError(y("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, typed array, or array-like object. Value: `%s`.",E));if(!n(E[p]))throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E));if(E=E[p](),!n(E.next))throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E));return g(E,b,d)}throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E))}if(i(E))throw new Error("invalid arguments. Creating a generic array from an ArrayBuffer is not supported.");throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E))}if(0===u)if(t(E=arguments[0]))w=new c(E.length);else if(i(E))w=new c(E);else if(e(E))w=new c(E);else{if(!a(E))throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E));if(!1===v)throw new TypeError(y("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, typed array, or array-like object. Value: `%s`.",E));if(!n(E[p]))throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E));if(E=E[p](),!n(E.next))throw new TypeError(y("invalid argument. Must provide a length, typed array, array-like object, or an iterable. Value: `%s`.",E));w=new c(m(E))}else w=1===u?new c(arguments[0],arguments[1]):new c(arguments[0],arguments[1],arguments[2]);return w.length>0&&(/^complex/.test(j)?f(w,b,d):o(w.length,w,1,k)),w;function k(r,e){return b.call(d,e)}}export{j as default};
//# sourceMappingURL=index.mjs.map
